
\documentclass{article}%
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{amsfonts}%
\usepackage{amssymb}
\usepackage{hyperref}

\setlength{\topmargin}{-0.75in}
\setlength{\textheight}{9.25in}
\setlength{\oddsidemargin}{0.0in}
\setlength{\evensidemargin}{0.0in}
\setlength{\textwidth}{6.5in}
\def\labelenumi{\arabic{enumi}.}
\def\theenumi{\arabic{enumi}}
\def\labelenumii{(\alph{enumii})}
\def\theenumii{\alph{enumii}}
\def\p@enumii{\theenumi.}
\def\labelenumiii{\arabic{enumiii}.}
\def\theenumiii{\arabic{enumiii}}
\def\p@enumiii{(\theenumi)(\theenumii)}
\def\labelenumiv{\arabic{enumiv}.}
\def\theenumiv{\arabic{enumiv}}
\def\p@enumiv{\p@enumiii.\theenumiii}
\pagestyle{plain}
\setcounter{secnumdepth}{0}
\newtheorem{theorem}{Theorem}
\newtheorem{acknowledgement}[theorem]{Acknowledgement}
\newtheorem{algorithm}[theorem]{Algorithm}
\newtheorem{axiom}[theorem]{Axiom}
\newtheorem{case}[theorem]{Case}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{conclusion}[theorem]{Conclusion}
\newtheorem{condition}[theorem]{Condition}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{criterion}[theorem]{Criterion}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{exercise}[theorem]{Exercise}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{notation}[theorem]{Notation}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{solution}[theorem]{Solution}
\newtheorem{summary}[theorem]{Summary}
\newenvironment{proof}[1][Proof]{\textbf{#1.} }{\ \rule{0.5em}{0.5em}}

\begin{document}

\begin{center}
\textbf{Introduction to Analysis $I$\\Homework 7\\Wednesday, November  8, 
2017}\bigskip
\end{center}

\noindent\textbf{Instructions}: This and all subsequent homeworks must be submitted written in \LaTeX.

\noindent Since by now, you should all be sufficiently familiar with \LaTeX to 
compose on your own, I will forgo the formalities of the previous assignments 
and simply list the problems.  I will expect, however, that you will cite 
relevant material in Royden or other sources properly and that you will 
acknowledge your collaborators.


\begin{center}
\emph{Homework 7 is due by midnight, Saturday, November 18.}
\end{center} 
\medskip

\begin{enumerate}
\item  Problem 9,  Chapter 6 

\smallskip
\textbf{Solution:}
\smallskip
Sufficiency. Suppose $m^*(E) = m > 0$. Since each point in $E$ belongs to infinitely many of the $I_k $, then there exists $N > 0$, s.t. 
$$
\bigcup_{k=1}^N I_k\supset E,
$$
otherwise there exists $x\in E$, for each $N$, $x\notin \bigcup\limits_{k=1}^N I_k $, and that means $x\notin \bigcup\limits_{k=1}^{\infty}I_k $, which leads to a contradiction. Suppose the smallest $N$ such that $E \subset \bigcup\limits_{k=1}^N I_k$ to be $N_1 $, then using the same method, there exists $N_2 > N_1 $, s.t. $E \subset \bigcup\limits_{k=N_1+1}^{N_2} I_k$. By inductively constructing such $N_j $, we get a sequence $\{N_j\}$, s.t. $E \subset \bigcup\limits_{k=N_j+1}^{N_{j+1}} I_k $. Then by the definition of outer measure and finite addivity for open sets, 
$$
m = m^*(E) \le m^*(\bigcup\limits_{k=N_j+1}^{N_{j+1}}I_k) = \sum_{k = N_j+1}^{N_{j+1}}m(I_k).
$$
Then for each $M > 0$,
$$
\sum_{k=1}^{\infty}m(I_k) > Mm, 
$$
which makes a contradiction with $\sum_{k=1}^{\infty}m(I_k) < \infty$. Then $m^*(E) = 0$.

Necessity. With the definition of outer measure, for each $\epsilon_n = \epsilon{1}{2^n} $, there exist an open set $O_n = \bigcup\limits_{j=1}^{\infty}I_{n_j} $ being the construction of open intervals, s.t. $E\subset O_n $, and $m(O_n) = \sum\limits_{j=1}^{\infty}m(I_{n_j}) < \epsilon_n $. Let $\{I_n\} = \{I_{n_j}\}_{n, j} $, then for each $x\in E$, $x$ belongs to infinitely many of these open intervals, and $\sum\limits_{n=1}^{\infty}m(I_n) = \epsilon < \infty$.

\bigskip
\item  Problem 10, Chapter 6

\smallskip
\textbf{Solution:}
\smallskip

For $x_2 > x_1 $, 
$$
\begin{aligned}
f(x_2) &= \sum_{k=1}^{\infty}l((c_k, d_k)\cap (-\infty, x_2)) = \sum_{k=1}^{\infty}l((c_k, d_k)\cap (-\infty, x_1)) + l((c_k, d_k)\cap (x_1, x_2)) \\
&= f(x_1) + \sum_{k=1}^{\infty}l((c_k, d_k)\cap (x_1, x_2)).
\end{aligned}
$$
Since $(c_k, d_k)$ is an open set, and $\exists k$, s.t. $x_1\in(c_k, d_k) $, thus $l((x_1, x_2)\cup (c_k, d_k)) > 0$. So $f(x_2) > f(x_1)$, which means $f$ is increasing.

$\forall x\in E$, let $\{k_i\}$ be the infininte set where $x \in (c_{k_i}, d_{k_i})$. Let $f_k(x) = l((c_k, d_k) \cap (-\infty, x))$, then $f = \sum f_k $. Fix an $N > 0$, then since $x\in\bigcap\limits_{i=1}^{N}(c_{k_i}, d_{k_i}) $, and the intersection of finite open sets is also an open set, then there exists $t_N > 0 $, s.t. $x+t_N \in\bigcap\limits_{i=1}^{N}(c_{k_i}, d_{k_i}) $. Thus 
$$
f_k(x+t_N)-f_k(x) = l(x, x+t_N) = t_N,
$$
for each $k = k_i, 1\le i\le N$. Thus since each $f_k$ is nondecreasing, $f(x+t_N) - f(x) \ge Nt_N$, we have $\overline{D}f(x) \ge N$. With the arbitrariness of $N > 0$, we know $\overline{D}f(x) = \infty$, which means $f$ is not differentiable at $x$.

\bigskip
\item  Problem 13, Chapter 6

\smallskip
\textbf{Solution:}
\smallskip
First, we show that under the conditions of the Vitali Covering Lemma, $\mathcal{F}\setminus \bigcup\limits_{k=1}^n I_k $ is a Vitali covering of $E\setminus \bigcup\limits_{k=1}^n I_k$. In fact, if it is not true, then there $\exists x\in E\setminus\bigcup\limits_{k=1}^n I_k$ and $\epsilon > 0$, s.t. there does not exist an interval $I\in\mathcal{F}\setminus\bigcup\limits_{k=1}^n I_k$, s.t. $x\in I$, and $m(I) < \epsilon$. However, since $\mathcal{F}$ is a Vitali covering of $E$, then for $\epsilon_i = \frac{\epsilon}{2^i}, ~i = 1, 2, \cdots $, there exists $I_i'\in\mathcal{F} $, s.t. $x\in I_i' $ and $m(I_i') < \epsilon_i $. If there exists $i_0 $, s.t. $I_{i_0}\notin \{I_k\}_{k = 1}^{n} $, then $x\in I_{i_0} $ and $m(I_{i_0}) < \epsilon$, which makes a contradiction. Then $\{I_i'\} \in \{I_k\}_{k = 1}^{n}$, but it contradicts with $n < \infty$. Hence, our claim is proved.

Then we show that if $\{I_k\}_{k=1}^{n} $ is a finite sequence of closed intervals, then we can find a pairwise disjoint subsequence $\{I_{k_j}\}$ s.t. 
$$
m(\bigcup_{j = 1}^{m} I_{k_j}) \ge m(\bigcup_{k=1}^{n}I_k).
$$
The proof of this proposition can be seen at \href{http://www.personal.psu.edu/t20/papers/vitali-l2h/node5.html}{http://www.personal.psu.edu/t20/papers/vitali-l2h/node5.html}

Now we use these claims to construct a collection. Using Vitali Covering Lemma, for $\epsilon = \frac{3}{4}m(E)$, there exists a finite collection of disjoint intervals $\{I_k\}$, s.t. $m(E\setminus \bigcup I_k) < \epsilon$. Denote $A = \bigcup I_k $.

Since $\mathcal{F}\setminus A$ is a Vitali covering of $E\setminus I_k $, there is a finite set of intervals $J_k $, s.t. $J_k\subset E\setminus A $ (Otherwise just follow the proof of Vitali Covering Lemma on the textbook), and 
$$
m(E\setminus (A\cup\bigcup_{k=1}^m J_k)) < \frac{1}{12}m(E\setminus A).
$$
Then using claim 2, there is a pairwise disjoint subset $\{J_{k_i}\}$ s.t. 
$$
m(\bigcup J_{k_i}) \ge \frac{1}{3}m(\bigcup J_k).
$$
Then denote $B = \bigcup J_{k_i} $, and 
$$
m(E\setminus (A\cup B)) < \frac{2}{3}m(\bigcup J_k) +\frac{1}{12}m(E\setminus A) \le (\frac{2}{3}+\frac{1}{12})m(E\setminus A) = \frac{3}{4}m(E\setminus A).
$$
By constructing like above recursively, we can get a sequence of subsets $\{A_i\}$, s.t. 
$$
m(E\setminus \bigcup_{i=1}^n A_i) \le (\frac{3}{4})^n m(E).
$$
By countable addivity,
$$
m(E\setminus \bigcup_{i=1}^\infty A_i) = 0.
$$

\bigskip
\item  Problem 16, Chapter 6

\smallskip
\textbf{Solution:}
\smallskip
First, we show that if $f_1, ~f_2$ are differentiable functions, then $f = f_1+f_2$ is differentiable. In fact,
$$
\begin{aligned}
\overline{D}f(x) &= \lim_{h\to 0}\sup_{0 < |t| < h}\frac{f(x+t)-f(x)}{t} = \lim_{h\to 0}\sup_{0 < |t| < h}(\frac{f_1(x+t)-f_1(x)}{t}+\frac{f_2(x+t)-f_2(x)}{t}) \\
&\le \lim_{h\to 0}\sup_{0 < |t| < h}\frac{f_1(x+t)-f_1(x)}{t} + \lim_{h\to 0}\sup_{0 < |t| < h}\frac{f_2(x+t)-f_2(x)}{t}
\end{aligned}
$$
$$
\begin{aligned}
\underline{D}f(x) &= \lim_{h\to 0}\inf_{0 < |t| < h}\frac{f(x+t)-f(x)}{t} = \lim_{h\to 0}\inf_{0 < |t| < h}(\frac{f_1(x+t)-f_1(x)}{t}+\frac{f_2(x+t)-f_2(x)}{t}) \\
&\ge \lim_{h\to 0}\inf_{0 < |t| < h}\frac{f_1(x+t)-f_1(x)}{t} + \lim_{h\to 0}\inf_{0 < |t| < h}\frac{f_2(x+t)-f_2(x)}{t}
\end{aligned}
$$
But since $f_1$ and $f_2$ are both differentiable, 
$$
\lim_{h\to 0}\inf_{0 < |t| < h}\frac{f_i(x+t)-f_i(x)}{t} = \lim_{h\to 0}\sup_{0 < |t| < h}\frac{f_i(x+t)-f_i(x)}{t}
$$
holds for $i = 1, 2$. Thus $\overline{D}f(x) = \underline{D}f(x)$, which means $f$ is differentiable.

Let
$$
g^+ = \max\{g(x), ~0\}, ~g^- = \min\{g(x), ~0\},
$$
Then $g^+ \ge 0, ~g^- \le 0$, and $g(x) = g^+(x) + g^-(x)$. Define
$$
f_1(x) = \int_{a}^{x}g^+, ~f_2(x) = \int_{a}^{x}g^-,
$$
then $f_1, ~f_2$ are both monotone functions, using Lebesgue's Theorem, $f_1, ~f_2 $ are both differentiable a.e. on $(a, b)$, respectively differentiable on $(a, b)\setminus E_1 $ and $(a, b) \setminus E_2 $ where $m(E_1) = m(E_2) = 0$. Then using the conclusion above, $f = f_1 + f_2 $ is differentiable on $(a, b)\setminus (E_1\cup E_2)$, and hence differentiable a.e. on $(a, b)$.


\item  Problem 26, Chapter 6

\smallskip
\textbf{Solution:}
No. In fact, let $\{x_i\}$ be the sequence of rational numbers in $[0, 1]$, then for each $i$, there is an irrational number $y_i $, s.t.
$x_i < y_i < y_{i+1} $. Then
$$
TV(f) \ge \sum_{i=1}^{\infty}(|f(x_{i+1})-f(y_i)|+|f(y_i)-f(x_i)|) = \sum_{i=1}^{\infty}2 = \infty.
$$
Thus $f$ is not of bounded variation.

\bigskip
\item  Problem 29, Chapter 6

\smallskip
\textbf{Solution:}

(a). No. In fact, consider the subinterval $[0, 1]$, let $x_i = \frac{1}{\sqrt{n\pi}} $, and $P_n = \{0, x_{2n+1}, x_{2n},\cdots, x_1\} $, then
$$
V(f, P_n) = \frac{1}{\pi}(1+\frac{2}{2n+1}+\frac{2}{2n}+\cdots+\frac{2}{2}+\frac{2}{1}-\cos(1)).
$$
Since the sum is a harmonic series, which diverges, we know $f $ is not of bounded variation.

(b). Yes. Consider only the interval $[0, 1]$ since $g$ is an even function. Since $g\in\mathcal{C}^1 $ and is bounded on (0, 1), then 
$$
g'(x) = 2x\cos\frac{1}{x}+\sin\frac{1}{x},
$$
and $|g'(x)|\le 3 $, thus by the definition of Riemann integral, for any partition $P$,
$$
V(g, P) \le \int_{0}^{1}|g'|dx.
$$
Thus
$$
TV(g) \le\int_{0}^{1}|g'|dx \le 3.
$$
\bigskip
\item  Problem 35, Chapter 6

\smallskip
\textbf{Solution:}
First, we have
$$
f'(x) = \alpha x^{\alpha-1}\sin(\frac{1}{x^\beta})-\beta x^{\alpha-\beta-1}\cos(\frac{1}{x^\beta}).
$$
Since we know $f\in\mathcal{C}^1 $ and $|f|\le 1$ on $(0, 1)$, then according to the definition of Riemann integrals, for any partition $P$ of $[0, 1]$,
$$
V(f, P) \le\int_{0}^{1}|f'|dx \le \int_{0}^{1}\alpha x^{\alpha-1}+\beta x^{\alpha-\beta-1}dx.
$$
Since $\alpha > \beta > 0$, we have $\alpha-1 > -1$, $\alpha-\beta-1 > -1$, thus 
$$
TV(f) \le\int_{0}^{1}\alpha x^{\alpha-1}+\beta x^{\alpha-\beta-1}dx < \infty.
$$
When $\alpha \le \beta$, let $P_n = \{0, (\frac{n\pi}{2})^{-\beta}, \cdots, (\frac{\pi}{2})^{-\beta}\}$ be a partition of $[0, 1]$. Then
$$
V(f, P_n) = \sum_{i=1}^{n}(\frac{i\pi}{2})^{-\frac{\alpha}{\beta}} \ge \sum_{i=1}^{n}\frac{2}{i}\pi.
$$
Since this series is a harmonic series, thus it diverges, which means
$$
TV(f) = \infty.
$$
\end{enumerate}
\end{document}
