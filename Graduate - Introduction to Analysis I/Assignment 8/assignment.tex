\input{structure.tex}
\usepackage{epstopdf}
\usepackage{graphics}
\usepackage{subfig}
\usepackage{listings}
\lstset{
  breaklines=true,
  xleftmargin=25pt,
  xrightmargin=25pt,
  aboveskip=0pt,
  belowskip=10pt,
  basicstyle=\ttfamily,
  showstringspaces=false,
  frame=ltrb,
  tabsize=4,
  numbers=left,
  numberstyle=\small,
  numbersep=8pt,
  morekeywords={*, factorial, sum, erlang},
  keywordstyle=\color{blue!70}, commentstyle=\color{red!50!green!50!blue!50},
}
\DeclareGraphicsExtensions{.eps,.ps,.jpg,.bmp}

\begin{document}

\title{Introduction to Analysis \\ Assignment 8}
\date{\today}
\author{Chuan Lu}

\maketitle

\problem{1}{Problem 37, Page 123}
\solution{Sol}{
(i) Let
$$
f(x) = \left\{
\begin{aligned}
&x\sin(\frac{1}{x}), ~0 < x \le 1, \\
&0, ~x = 0
\end{aligned}
\right.
$$
Then $f$ is continuous on $(0, 1]$. Since $\lim\limits_{x\to 0^+}f(x) = 0 = f(0)$, $f$ is continuous on $[0, 1]$. For $x_1, x_2 \in [\epsilon, 1]$ where $\epsilon > 0$, 
$$
\begin{aligned}
|f(x_1)-f(x_2)| &= |x_1\sin\frac{1}{x_1}-x_2\sin\frac{1}{x_2}| = |(x_1-x_2)\sin\frac{1}{x_1}+x_2(\sin\frac{1}{x_1}-\sin\frac{1}{x_2})| \\
&\le |x_1-x_2|\sin\frac{1}{x_1} + 2x_2|\cos\frac{1}{2}(\frac{1}{x_1}+\frac{1}{x_2})\sin\frac{1}{2}(\frac{1}{x_1}-\frac{1}{x_2})| \\
&\le |x_1-x_2|\sin\frac{1}{x_1} + 2x_2|\sin\frac{x_2-x_1}{2x_1x_2}| \le |x_1-x_2|\sin\frac{1}{x_1}+2x_2|\frac{x_2-x_1}{2x_1x_2}| \\
&= |x_1-x_2|(\sin\frac{1}{x_1}+\frac{1}{x_1}) \le |x_1-x_2|(1+\frac{1}{\epsilon}).
\end{aligned}
$$ 
Thus $f$ is Lipschitz, with Proposition 7 we know $f$ is absolutely continuous. 

However, with Problem 35 we know $f$ is not of bounded variation on $[0, 1]$, and with Remark on Page 122 we know $f$ is not absolutely continuous on $[0, 1]$.

(ii) If not, then there is a $\epsilon > 0$, s.t. for each $\delta > 0$, there is a finite disjoint collection $\{(a_k, b_k)\}$ of open intervals satisfying $\sum\limits_{k=1}^{n}(b_k-a_k) < \delta $, s.t. $\sum\limits_{k=1}^{n}|f(b_k)-f(a_k)| \ge \epsilon $. As suggested in conditions, for each $c > 0$, $f$ is absolutely continuous on $[c, 1]$. Then these open intervals must lie in $[0, c]$ for every $c$. With the continuity of $f$ on $[0, 1]$, there exists $c > 0$, s.t. $0 < f(c) - f(0) <\epsilon$. If we take $\delta = c$, because $f$ is increasing, $\sum\limits_{k=1}^{n}(b_k-a_k) < f(c) - f(0) <\epsilon$. It contradicts with our assumption. Hence $f$ is absolutely continuous on $[0, 1]$.

(iii) First we show $f$ is absolutely continuous by showing that it satisfies the condition in (ii). For each $c > 0$, since on $[c, 1]$ we have 
$$ 
\sqrt{x_1}-\sqrt{x_2}| = \frac{|x_1-x_2|}{\sqrt{x_1}+\sqrt{x_2}} \le \frac{|x_1-x_2|}{2\sqrt{c}},
$$
we know for each $\epsilon > 0$, pick $\delta = 2\sqrt{c}\epsilon$, then for each collection $\{(a_k, b_k)\}$ satisfying $\sum\limits_{k=0}^{n}|b_k-a_k| < \delta $,
$$
\sum_{k=1}^{n}|f(b_k)-f(a_k)| < \sum_{k=1}^{n}\frac{|x_1-x_2|}{2\sqrt{c}} < \epsilon.
$$
Hence $f$ is absolutely continuous on $[c, 1]$. Since $f$ is increasing, we know $f$ is absolutely continuous on $[0, 1]$.

On the other hand, if there exists $\lambda > 0$, s.t. 
$$
|f(x_1)-f(x_2)| < \lambda|x_1-x_2|
$$
for each $x_1, x_2 $, then if we pick $\max(x_1, x_2) < \frac{1}{4\lambda^2}$, from the argument above we know
$$
|f(x_1)-f(x_2)| = \frac{|x_1-x_2|}{\sqrt{x_1}+\sqrt{x_2}} > \lambda|x_1-x_2|.
$$
Hence $f$ is not Lipschitz.
}

\problem{2}{Problem 39, Page 123}
\solution{Sol}{
Suppose $E$ is a measurable set, then for each $\epsilon' > 0$, there exists an open set $O\supset E$, and $m(O\setminus E) < \epsilon'$. Let $O = \bigcup\limits_{k=1}^{\infty} (a_k, b_k)$ be the open decomposition of $O$, then $(a_i, b_i)$ are pairwise disjoint.

If $f$ is absolutely continuous, by Problem 38, for each $\epsilon > 0$, there is a $\delta > 0$, for each $\{(a_k, b_k)\}$ satisfying $\sum\limits_{k=1}^{\infty}(b_k-a_k) < \delta$, $\sum\limits_{k=1}^{\infty}|f(b_k)-f(a_k)| < \epsilon $. In fact, if we take $\delta_1 < \delta - \epsilon'$, then since $f$ is increasing, $f(E) \in f(\cup\{(a_k, b_k)\})$ when $E \in \cup\{(a_k, b_k)\}$, thus 
$$
m^*(f(E)) < m(f(\cup\{(a_k, b_k)\})) < \delta.
$$

On the other hand, since open sets are measurable, with Problem 39 we know the reverse holds.
}

\problem{3}{Problem 41, Page 123}
\solution{Sol}{
(i) With the continuity of $f$ and the compactness of $[a, b]$, we know the maximum and minimum of $f$ on $[a, b]$ exists, thus $f$ maps $[a, b]$ to a closed set. Thus $f$ maps a $F_\sigma $ set to a $F_\sigma$ set.

(ii) Problem 40 tells $f$ maps a set of measure zero to a set of measure zero. Since each measurable set could be represented as a union of a measure-zero set and a $F_\sigma $ set, we know $f$ maps a measurable set to a measurable set.
}

\newcommand{\df}{\text{Diff}}
\problem{4}{Problem 49, Page 128}
\solution{Sol}{
Since $f$ is differentiable a.e. on $(a, b)$, we first show that $\{\df_{1/n}f\}$ converges pointwise a.e. to $f'$ on $(a, b)$. Suppose $f$ is differentiable on $E\in (a, b)$, with $m((a, b)\setminus E) = 0$. For $\forall x$ in $E$, we know for any $n > 0$, $\underline{D}f(x) \le \df_{1/n}f(x) \le \overline{D}f(x)$, so 
$$
\underline{D}f(x) \le \lim_{n\to\infty}\df_{1/n}f(x) \le \overline{D}f(x).
$$
Since $\underline{D}f(x) = \overline{D}f(x)$, we know
$$
\lim_{n\to\infty}\df_{1/n}f(x) = f'(x), ~\forall x\in E.
$$
Thus
$$
\int_{a}^{b}\lim_{n\to\infty}\df_{1/n}f = \int_a^b f'.
$$
By fundamental theorem of integral (or by (29)), we know
$$
\lim_{n\to\infty}\int_a^b\df_{1/n}f = f(b)-f(a).
$$
Hence,
$$
\int_{a}^{b}\lim_{n\to\infty}\df_{1/n}f = \lim_{n\to\infty}\int_a^b\df_{1/n}f
$$
is equivlent to
$$
\int_{a}^{b} f' = f(b)-f(a).
$$
}

\problem{5}{Problem 56, Page 129}
\solution{(i)}{
Since $O$ is an open set, let
$$
O = \bigcup_{n=1}^\infty (a_i, b_i)
$$
be its open decomposition, where $\{(a_i, b_i)\}$ are pairwise disjoint. Then since $g$ is absolutely continuous thus continuous, and $g$ is strictly increasing, $g$ maps an open interval to an open interval (in fact, this has been proved in a midterm exam). Hence, for any open interval $(a, b)$, by Corollary 12 we have
$$
\int_{a}^{b}g'(x) = g(b)-g(a) = m(g((a, b))).
$$
By countable addivity of measure and integral,
$$
\int_{O}g' = \sum_{i=1}^{\infty}\int_{a_i}^{b_i}g' = \sum_{i=1}^{\infty}m(g((a_i, b_i))) = m(g(O)).
$$
}
\solution{(ii)}{
We know that the intersection of two open sets is an open set, then by induction we know
$$
m(g(\cap_{i=1}^n O_i)) = \int_{\cap_{i=1}^n O_i}g', ~\forall n > 0.
$$
Let $E = \cap_{i=1}^{\infty}O_i $, then first we have
$$
m(g(E)) = m(g(\cap_{i=1}^{\infty} O_i)) \le m(g(\cap_{i=1}^{n} O_i)) = \int_{\cap_{i=1}^{n} O_i} g', ~\forall n.
$$
The left side of this inequity is independent of $n$, thus
$$
m(g(E)) \le \int_{\cap_{i=1}^{\infty} O_i} g' = \int_{E}g'.
$$
On the other hand, we know
$$
\int_{E} g' \le m(g(E))
$$
by the same arguments. Hence
$$
m(g(E)) = \int_{E}g'.
$$
}
\solution{(iii)}{
In a midterm exam we have proved that a strictly increasing and continuous function maps a null set to a null set, thus $m(g(E)) = 0$. By Theorem 10 we know $g'$ is integrable on $[a, b]$, then 
$$
\int_{E} g' = 0.
$$
}
\solution{(iv)}{
For any measurable subset $A$, by Theorem 11 of Chapter 2, there is a $G_\delta $ set $G \supset A$, and $m(G\setminus A) = 0$. Let $E = G\setminus A$, by (ii) and (iii), we have
$$
m(g(E)) = \int_{E} g', ~m(g(G)) = \int_{G}g'.
$$
Since $E\cap G = \emptyset$, by addivity of measure and integral,
$$
m(g(A)) = m(g(E)) + m(g(G)) = \int_{E\cup G}g' = \int_{A}g'.
$$
}
\solution{(v)}{
Since $\varphi$ is a simple function, assume $\varphi = \sum\limits_{k = 1}^{n}c_k1_{E_k} $. Since $E_k $ are measurable sets, we know $g((a, b)) \cap E_k $ are all measurable. Denote $D_k = g((a, b))\cap E_k $. Since $g$ is strictly increasing and continuous, we know $g^{-1}(D_k)$ is measurable, then by addivity of domain and (iv),
$$
\int_{a}^{b}\varphi(g(x))g'(x)dx = \sum_{k=1}^{n}\int_{g^{-1}(D_k)}c_kg'(x)dx = \sum_{k=1}^{n}c_km(g^{-1}(D_k)) = \int_{c}^{d}c_k1_{g^{-1}(D_k)} = \int_{c}^{d}\varphi(x)dx.
$$
}
\solution{(vi)}{
By Simple Approximation Lemma, for any $\epsilon > 0$, there are simple functions $\varphi$ and $\psi$, s.t. 
$$
0 \le \varphi \le f \le \psi, ~0\le\psi-\varphi < \epsilon.
$$
Since $g$ is strictly increasing and absolutely continuous, $g'$ exists a.e., integrable on $[a, b]$, and $g' > 0$. Then
$$
\int_a^b \varphi(g(x))g'(x)dx \le \int_a^b f(g(x))g'(x)dx \le \int_a^b\psi(g(x))g'(x)dx.
$$
By (v) we know
$$
\int_c^d \varphi(y)dy \le \int_a^b f(g(x))g'(x)dx \le \int_c^d \psi(y)dy,
$$
and by montonicity of integrals,
$$
\int_c^d \varphi(y)dy \le \int_c^d f(y)dy \le \int_c^d \psi(y)dy,
$$
and
$$
\int_c^d\psi(y)dy - \int_c^d\varphi(y)dy = \int_c^d(\psi - \varphi)dy \le \epsilon(d-c).
$$
By the arbitrariness of $\epsilon$,
$$
\int_c^d\psi(y)dy - \int_c^d\varphi(y)dy = 0.
$$
Hence
$$
\int_a^b f(g(x))g'(x)dx = \int_c^d f(y)dy.
$$
}

\problem{6}{Problem 59, Page 129}
\solution{Sol}{

}

\end{document}